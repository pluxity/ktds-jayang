// 이미지 경로 변수 설정 
$base-img-path:"/static/images/viewer/";

// 기본 360px 기준
.navigation{
    &-wrap{
        display:flex; flex-direction:column;
        margin:0 auto; background-color:#F2F1F7;
        width:100vw; height:100vh; overflow:hidden;
        color:var(--color-grayscale-dark); 
    }

    &-header{
        display:flex; align-items:center; flex-shrink:0;
        background-color:#fff; padding:0 0.94rem; box-sizing:border-box;
        height:3.4375rem;
        &__back, &__close{
            display:inline-block; flex-shrink:0;
            width:1.125rem; height:1.125rem;
            background:url('#{$base-img-path}mobile/navigation.svg') no-repeat;
        }
        &__back{background-position:0 -11px;}
        &__close{background-position:-96px -11px;}
        &__title{
            margin:0 auto;
            color:var(--color-grayscale-dark); font-size:1.125rem; font-weight:700;
        }
    }

    &-content{
        flex:1; display:flex; flex-direction:column; overflow:hidden;
        position:relative;
        &__image{
            position:absolute; 
            background-repeat:no-repeat; background-size:cover;
            width:100%; height:100%;
        }
    }

    &-search{
        display:flex; align-items:center;
        margin:1.25rem 1.25rem 0; padding:0.8125rem 1.25rem; border:1px solid var(--color-grayscale01); border-radius:3.125rem; background-color:#fff;
        input{
            display:block;
            border:none; background-color:transparent;
            outline:none; width:100%;
            color:var(--color-black-key); font-size:0.875rem;
            &::placeholder{color:var(--color-grayscale01); font-size:0.875rem;}
        }
        &__button{
            display:inline-block; flex-shrink:0;
            margin-left:auto;
            width:1.5rem; height:1.5rem;
            -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
            -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
            -webkit-mask-position:-192px -9px; mask-position:-192px -9px;
            background-color:var(--color-grayscale01); 
        }
        &--active{
            border-color:var(--color-black-key); border-width:2px;
            input::placeholder{color:var(--color-black-key);}
            .navigation-search__button{
                background-color:var(--color-black-key);
            }
        }
        &--complete{
            border-color:var(--color-grayscale03); 
            input::placeholder{color:var(--color-black-key);}
            .navigation-search__button{
                background-color:var(--color-black-key);
            }
        }
    } 

    &-category{
        display:flex; flex-direction:column; grid-gap:0.44rem;
        margin:0.94rem 0 1.25rem;
        &__list{
            display:inline-flex; grid-gap:0.31rem; 
            padding:0 1.25rem;
            overflow-x:auto; overflow-y:hidden;
            white-space:nowrap;
            -webkit-overflow-scrolling:touch;
            scrollbar-width:none; -ms-overflow-style:none;
            &::-webkit-scrollbar{display:none;}
        }
        &__button{
            padding:0.4375rem 0.9375rem; border:1px solid var(--color-grayscale-light); border-radius:1.25rem; background-color:#fff;
            font-size:0.875rem;
            &--active{
                border-color:var(--color-grayscale-dark);
                background-color:var(--color-grayscale-dark); color:#fff;
            }
        }
    }
 
    &-list{
        flex:1;
        padding:0 1.25rem 1.25rem; overflow-y:auto;
        > ul{
            display:flex; flex-direction:column; grid-gap:1.25rem;
        }
        &__empty{
            display:flex; justify-content:center; align-items:center;
            height:50%; 
            color:var(--color-grayscale03); font-size:1rem; 
        }

        &__item{
            display:flex; flex-direction:column; grid-gap:0.56rem;
            border:1px solid #ABB4C0; padding:0.94rem; background-color:#F2F1F7; box-sizing:border-box;
            min-height:6.375rem; 
        }

        &__info{
            display:flex; flex-direction:column; grid-gap:0.25rem; position:relative;
            color:var(--color-grayscale-dark);
            .title{
                display:flex; flex-direction:column; grid-gap:0.25rem;
                &__location{font-size:0.75rem;}
                &__name{font-size:0.875rem; font-weight:700;}
            }
            .view{
                position:absolute; right:0; top:0;
                font-size:0.75rem; color:var(--color-grayscale03);
                &::before{
                    content:"";
                    display:inline-block; vertical-align:middle;
                    width:1.25rem; height:1.25rem;
                    -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
                    -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
                    -webkit-mask-position:-246px -11px; mask-position:-246px -11px;
                    background-color:var(--color-grayscale03);
                }
            }
        }

        &__buttons{
            display:flex; grid-gap:0.25rem;
            button{
                display:inline-flex; justify-content:center; align-items:center;
                padding:0.3125rem 1.25rem; border-radius:1.25rem; border:1px solid var(--color-grayscale03);
                min-width:3.75rem; min-height:1.875rem;
                color:var(--color-grayscale03); font-size:0.75rem;
            }
        }

        &__banner{
            position:relative;
            overflow:hidden;
            .slider{
                display:flex; grid-gap:0.44rem;
                transition:transform 0.3s ease-in-out; will-change:transform;
                li{flex-shrink:0; height:5rem; width:5rem; overflow:hidden;}
                &__image{width:100%; height:6.6875rem;}
            }
            .button{
                display:none; position:absolute; top:50%; left:0; transform:translateY(-50%); z-index:1;
                background-color:rgba(224, 224, 224, 0.70); border-radius:50%;
                width:1.125rem; height:1.125rem;
                &::before{
                    content:"";
                    display:inline-block; vertical-align:middle; transform:scale(0.6);
                    margin:0 -1px;
                    width:1.25rem; height:1.25rem;
                    background:url('#{$base-img-path}mobile/navigation.svg') no-repeat; background-position:0 -11px;
                }
                &--right{
                    right:0; left:auto;
                    &::before{
                        background-position:-47px -11px;
                    }
                }
            }
        }
    } 

    &-location{
        display:flex; flex-direction:column;
        height:100%;
        
        &__label{
            position:absolute; bottom:1.25rem; left:1.25rem;
            display:flex; justify-content:center; align-items:center;
            background-color:#000; backdrop-filter:blur(10px);
            min-width:3.125rem; min-height:3.125rem;
            color:#fff; font-size:1.875rem; font-weight:700;
        }

        &__info{
            position:fixed; bottom:0; left:0; right:0;
            display:flex;
            padding:1.25rem 0.69rem 0.69rem; border-radius:1.25rem 1.25rem 0 0; background-color:#FFF; box-shadow:0 -4px 20px 0 rgba(0, 0, 0, 0.25); box-sizing:border-box;
            min-height:6.25rem;
            .title{
                display:flex; flex-direction:column; grid-gap:0.25rem;
                color:var(--color-grayscale-dark);
                &__location{font-size:0.875rem; }
                &__name{font-size:1.125rem; font-weight:700;}
            }
            .buttons{
                margin-left:auto;
                display:flex; grid-gap:0.25rem; align-items:flex-start;
                button{
                    display:inline-flex; justify-content:center; align-items:center;
                    padding:0.3125rem 1.25rem; border-radius:1.25rem; border:1px solid var(--color-black-key); background-color:var(--color-black-key);
                    min-width:3.75rem; min-height:1.875rem;
                    color:#fff; font-size:0.75rem;
                }
            }
        }

        &:has(.navigation-location__info){
            .navigation-location__label{
                bottom:7.5rem;
            }
        }

        &__search{
            margin:1.25rem;
            height:100%;
            @at-root{
                .location-search{
                    display:flex; flex-direction:column; grid-gap:0.62rem;
                    height:100%;
                    &__list{
                        display:flex; align-items:center; grid-gap:0.31rem;
                        ul{flex:1; display:flex; flex-direction:column; grid-gap:0.31rem;}
                        .item{
                            display:flex; align-items:center; grid-gap:0.19rem;
                            padding:0.8125rem 1.25rem; border:1px solid var(--color-grayscale01); border-radius:3.125rem; background-color:#fff;
                            &__icon{
                                position:relative; 
                                flex-shrink:0; display:flex; align-items:center; 
                                min-width:2.1875rem; 
                                font-size:0.875rem; color:var(--color-grayscale01);
                                &::before{
                                    content:"";
                                    display:inline-block; vertical-align:middle;
                                    width:1.25rem; height:1.25rem;
                                    -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
                                    -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
                                    -webkit-mask-position:-246px -11px; mask-position:-246px -11px;
                                    background-color:var(--color-grayscale01);
                                }
                            }
                            &__close{
                                display:inline-block; flex-shrink:0;
                                width:1.125rem; height:1.125rem;
                                background:url('#{$base-img-path}mobile/navigation.svg') no-repeat; background-position:-143px -11px;
                            }
                            &__input{
                                display:block;
                                border:none; background-color:transparent;
                                outline:none; width:100%;
                                color:var(--color-black-key); font-size:0.875rem;
                                &::placeholder{color:var(--color-grayscale01); font-size:0.875rem;}
                            }
                            &--active{
                                border-color:var(--color-black-key); border-width:2px;
                                .item__icon{
                                    color:var(--color-grayscale03);
                                    &::before{
                                        background-color:var(--color-grayscale03);
                                    }
                                }
                                input::placeholder{color:var(--color-black-key);}
                            }
                            &--complete{
                                border-color:var(--color-grayscale03); 
                                .item__icon{
                                    color:var(--color-grayscale03);
                                    &::before{
                                        background-color:var(--color-grayscale03);
                                    }
                                }
                                input::placeholder{color:var(--color-black-key);}
                            }
                        }
                        .change{
                            flex-shrink:0;
                            width:2.5rem; height:4.6875rem;
                            border:1px solid var(--color-grayscale01); border-radius:1.25rem; 
                            &::before{
                                content:"";
                                display:inline-block; vertical-align:middle;
                                width:1.5rem; height:1.5rem;
                                -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
                                -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
                                -webkit-mask-position:-406px -8px; mask-position:-406px -8px;
                                background-color:var(--color-grayscale01);
                            }
                            &--active{
                                background-color:#fff; border-color:var(--color-grayscale03);
                                &::before{
                                    background-color:var(--color-grayscale03);
                                }
                            }
                        }
                    }
                    &__button{
                        display:inline-flex; justify-content:center; align-items:center;
                        margin:0 auto; padding:0.3125rem 1.25rem; border-radius:1.25rem; border:1px solid var(--color-grayscale01);
                        min-width:3.75rem; min-height:0.875rem;
                        font-size:0.875rem; color:var(--color-grayscale01);
                        &--active{
                            border-color:var(--color-black-key); background-color:var(--color-black-key); 
                            color:#fff;
                        }
                    }
                    &__result{
                        margin-top:1.25rem; overflow-y:auto;
                        .total{
                            margin-bottom:0.62rem;
                            font-size:0.75rem; color:var(--color-grayscale03);
                            em{color:var(--color-black-key);}
                        }
                        li{
                            padding:0.62rem 0.31rem; border-bottom:1px solid var(--color-grayscale01);
                            font-size:0.875rem; color:var(--color-black-key);
                        }
                        button{
                            display:flex; align-items:center;
                            width:100%;
                            text-align:left;
                        }
                        .floor{
                            position:relative;
                            display:inline-flex; align-items:center;
                            margin-left:auto;
                            font-size:0.75rem; color:var(--color-grayscale03);
                            &::after{
                                content:"";
                                display:inline-block; 
                                width:1.25rem; height:1.25rem;
                                -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
                                -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
                                -webkit-mask-position:-246px -11px; mask-position:-246px -11px;
                                background-color:var(--color-grayscale03);
                            }
                        }
                    }
                }
            } 
        }
        &__route{
            position:relative;
            height:100%;
            @at-root{
                .location-route{
                    margin:1.25rem;
                    &__message{
                        position:absolute; bottom:1.25rem; left:50%; transform:translateX(-50%);
                        display:inline-flex; justify-content:center; align-items:center;
                        padding:0.4375rem 0.625rem; border-radius:1.25rem; background-color:rgba(0, 245, 191, 0.60);
                        color:var(--color-navy-dark); font-size:0.75rem;
                    }
                    &__search{
                        display:flex; align-items:center; grid-gap:0.19rem;
                        padding:0.94rem; border:1px solid var(--color-grayscale03); border-radius:3.125rem; background-color:#fff;
                        width:100%; box-sizing:border-box;
                        .search{
                            display:flex; align-items:center; grid-gap:0.19rem;
                            &__input{
                                width:100%;
                                border:none; background-color:transparent;
                                outline:none;
                                color:var(--color-black-key); font-size:0.875rem;
                                white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
                            }
                            &__icon{
                                display:inline-block; flex-shrink:0; scale:0.8;
                                width:1.25rem; height:1.25rem;
                                -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
                                -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
                                -webkit-mask-position:-46px -11px; mask-position:-46px -11px;
                                background-color:var(--color-grayscale03);
                            }
                        }
                        .close{
                            display:inline-block; flex-shrink:0;
                            margin-left:auto;
                            width:1.125rem; height:1.125rem;
                            -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
                            -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
                            -webkit-mask-position:-143px -11px; mask-position:-143px -11px;
                            background-color:#000;
                        }
                    }
                    &__category{
                        margin-top:0.62rem;
                        ul{
                            display:flex; align-items:center; grid-gap:0.31rem; flex-wrap:wrap;
                            li{
                                button{
                                    display:inline-flex; align-items:center; justify-content:center;
                                    border:1px solid var(--color-grayscale03); border-radius:1.25rem; padding:0.3125rem 1.25rem; box-sizing:border-box; background-color:#fff;
                                    min-width:3.75rem; min-height:1.875rem; 
                                    font-size:0.875rem; color:var(--color-grayscale03); white-space:nowrap;
                                    &.icon{
                                        position:relative;
                                        &::before{
                                            content:"";
                                            display:inline-block; vertical-align:middle;
                                            width:1.25rem; height:1.25rem;
                                            -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
                                            -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
                                            background-color:var(--color-grayscale03);
                                        }
                                        &--pause{
                                            &::before{
                                                -webkit-mask-position:-69px -70px; mask-position:-69px -70px;
                                            }
                                        } 
                                        &--play{
                                            &::before{
                                                -webkit-mask-position:-115px -70px; mask-position:-115px -70px;
                                            }
                                        }
                                        &--replay{
                                            &::before{
                                                -webkit-mask-position:-165px -70px; mask-position:-165px -70px;
                                            }
                                        }
                                    }
                                }
                                &.active{
                                    button{
                                        border-color:var(--color-black-key); background-color:var(--color-black-key); color:#fff;
                                        &.icon{
                                            &::before{
                                                background-color:#fff;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    &-layer {
        position:fixed; top:0; left:0; z-index:1000;
        display:flex; align-items:center; justify-content:center;
        width:100vw; height:100vh;
        
        &::before {
            content:'';
            position:absolute; top:0; left:0; z-index:-1;
            background-color:rgba(0, 0, 0, 0.7);
            width:100%; height:100%;
        }
        
        // 모달 내용 컨테이너
        &__content {
            position:relative;

            .close{
                position:absolute; top:-2rem; right:0;
                width:1.125rem; height:1.125rem;
                -webkit-mask-image:url('#{$base-img-path}mobile/navigation.svg'); mask-image:url('#{$base-img-path}mobile/navigation.svg'); 
                -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
                -webkit-mask-position:-96px -11px; mask-position:-96px -11px;
                background-color:#fff;
            }

            .list{
                position:relative;
                display:flex; flex-direction:column; align-items:center; grid-gap:0.22rem;
                ul{
                    display:flex;
                    overflow:hidden;
                }
                li{width:16.25rem; height:21.875rem;}
                &__image{width:100%; height:100%; object-fit:cover;}
                
                &__count{
                    background-color:#000; color:#fff;
                    padding:0.31rem 0.62rem; border-radius:1.5625rem;
                    font-size:0.875rem; font-weight:500; 
                }
                &__button{
                    position:absolute; top:50%; left:-1.62rem; transform:translateY(-50%); z-index:1;
                    background-color:rgba(224, 224, 224, 0.70); border-radius:50%;
                    width:1.125rem; height:1.125rem;
                    &::before{
                        content:"";
                        display:inline-block; vertical-align:middle; transform:scale(0.6);
                        margin:0 -1px 1px;
                        width:1.25rem; height:1.25rem;
                        background:url('#{$base-img-path}mobile/navigation.svg') no-repeat; background-position:0 -11px;
                    }
                    &--right{
                        right:-1.62rem; left:auto;
                        &::before{
                            background-position:-46px -11px;
                        }
                    }   
                }
            }
        }
    }

    &-alert{
        position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); z-index:1000;
        &__inner{
            border-radius:0.625rem; background-color:var(--color-black); box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.70);
            padding:2.5625rem 1.40625rem 1.875rem 1.40625rem;
        }
        &__content{
            color:#fff; font-size:0.875rem;
        }
        &__buttons{
            display:flex; align-items:center; justify-content:center; grid-gap:0.63rem;
            margin-top:1.25rem;
            .button{
                padding:0.3125rem 1.25rem; border:1px solid; border-radius:1.25rem;
                min-width:3.75rem; min-height:1.875rem; 
                font-size:0.75rem; color:#fff;
                &--confirm{
                    border-color:var(--color-grayscale03); background-color:var(--color-black);
                }
                &--cancel{
                    border-color:var(--color-grayscale03); background-color:var(--color-grayscale03);
                }
            }
        }
    }
}

