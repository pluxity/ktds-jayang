<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="~{map/head :: head}"></div>
</head>
<body>
<nav th:replace="~{map/header :: header}"></nav>
<div id="webGLContainer" style="position:fixed; width: 100%; height:100%; "></div>
<div class="container">
    <div class="contents">
        <div class="poi-menu">
            <div class="poi-menu__all">
                <!-- [D] 선택 시 active 클래스 추가 -->
                <div class="all active">
                    <a href="javascript:void(0);" id="toggle-menu">장비보기</a>
                    <!-- 장비 목록 팝업 -->
                    <div id="equipmentListPop" class="popup-basic popup-basic--small">
                        <div class="popup-basic__head">
                                <span class="checkbox-wrap">
                                    <input type="checkbox" id="check">
                                    <label for="check">전체선택</label>
                                </span>
                        </div>
                        <!-- 장비 표시 영역 -->
                        <div id="equipmentGroup" class="equip-group">
                            <!-- [D] 버튼 활성화 시 active 클래스 추가 -->
                            <a href="javascript:void(0)" class="cctv">CCTV</a>
                            <a href="javascript:void(0)" class="facility">설비</a>
                            <a href="javascript:void(0)" class="power">전력</a>
                            <a href="javascript:void(0)" class="light">조명</a>
                            <a href="javascript:void(0)" class="fire">소방</a>
                            <a href="javascript:void(0)" class="elevator">승강기</a>
                            <a href="javascript:void(0)" class="solar">태양광</a>
                            <a href="javascript:void(0)" class="parking">주차관제</a>
                            <a href="javascript:void(0)" class="air">공기질</a>
                            <a href="javascript:void(0)" class="obstacle">항공장애</a>
                            <a href="javascript:void(0)" class="leak">누수</a>
                            <a href="javascript:void(0)" class="access">출입탐지</a>
                            <a href="javascript:void(0)" class="bell">비상벨</a>
                            <a href="javascript:void(0)" class="vav">VAV</a>
                            <a href="javascript:void(0)" class="geo">지열</a>
                            <a href="javascript:void(0)" class="ac">시스템에어컨</a>
                        </div>
                    </div>
                </div>
            </div>
            <div id="poiMenuList" class="poi-menu__list">
                <ul>
                    <!-- [D] 선택 시 active 클래스 추가 -->
                    <li class="cctv">
                        <a href="javascript:void(0)"><span class="hide">cctv</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">CCTV</span>
                        </div>
                    </li>
                    <li class="facility">
                        <a href="javascript:void(0)"><span class="hide">설비</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">설비</span>
                        </div>
                    </li>
                    <li class="power">
                        <a href="javascript:void(0)"><span class="hide">전력</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">전력</span>
                        </div>
                    </li>
                    <li class="light">
                        <a href="javascript:void(0)"><span class="hide">조명</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">조명</span>
                        </div>
                    </li>
                    <li class="fire">
                        <a href="javascript:void(0)"><span class="hide">소방</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">소방</span>
                        </div>
                    </li>

                    <li class="solar">
                        <a href="javascript:void(0)"><span class="hide">태양광</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">태양광</span>
                        </div>
                    </li>

                    <li class="air">
                        <a href="javascript:void(0)"><span class="hide">공기질</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">공기질</span>
                        </div>
                    </li>
                    <li class="obstacle">
                        <a href="javascript:void(0)"><span class="hide">항공장애</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">항공장애</span>
                        </div>
                    </li>
                    <li class="leak">
                        <a href="javascript:void(0)"><span class="hide">누수</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">누수</span>
                        </div>
                    </li>
                    <li class="access">
                        <a href="javascript:void(0)"><span class="hide">출입탐지</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">출입탐지</span>
                        </div>
                    </li>
                    <li class="bell">
                        <a href="javascript:void(0)"><span class="hide">비상벨</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">비상벨</span>
                        </div>
                    </li>
                    <li class="vav">
                        <a href="javascript:void(0)"><span class="hide">VAV</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">VAV</span>
                        </div>
                    </li>
                    <li class="geo">
                        <a href="javascript:void(0)"><span class="hide">지열</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">지열</span>
                        </div>
                    </li>

                </ul>
                <ul>
                    <li class="parking">
                        <a href="javascript:void(0)"><span class="hide">주차관제</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">주차관제</span>
                        </div>
                    </li>

                    <li class="elevator">
                        <a href="javascript:void(0)"><span class="hide">승강기</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">승강기</span>
                        </div>
                    </li>

                    <li class="ac">
                        <a href="javascript:void(0)"><span class="hide">시스템에어컨</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">시스템에어컨</span>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- poi menu list map -->
            <div id="poiMenuListMap" class="poi-menu__list poi-menu__list--map">
                <ul>
                    <!-- [D] 선택 시 active 클래스 추가 -->
                    <li class="patrol">
                        <a href="javascript:void(0)"><span class="hide">가상순찰</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">가상순찰</span>
                        </div>
                    </li>
                    <li class="sop">
                        <a href="javascript:void(0)"><span class="hide">SOP</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">SOP</span>
                        </div>
                    </li>
                    <li class="shelter">
                        <a href="javascript:void(0)"><span class="hide">대피경로</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">대피경로</span>
                        </div>
                    </li>
                    <li class="maintenance">
                        <a href="javascript:void(0)"><span class="hide">유지보수</span></a>
                        <div class="tool-tip">
                            <span class="tool-tip__text tool-tip__text--bottom">유지보수</span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="system-tap">
            <ul>
                <!-- [D] 선택 시 active 클래스 추가 -->
<!--                <li id="equipment">설비</li>-->
                <li id="elevatorTab">승강</li>
                <li id="parkingTab">주차</li>
                <li id="airTab">시스템 에어컨</li>
<!--                <li id="energyTab">에너지</li>-->
<!--                <li id="electricTab">전력</li>-->
            </ul>
        </div>
        <!--  floor-info--active 추가 여부 -->
        <div id="floor-info" class="floor-info floor-info--active">
            <div class="floor-info__inner">
                <!-- [D] 버튼 클릭 시 floor-info__detail show/hide 적용 -->
                <button type="button" class="floor-info__button">층별</button>
                <div class="floor-info__detail">
                    <!-- [D] 10개 층 초과 시 층 이동 화살표 노출 -->
                    <button type="button" class="up"><span class="hide">UP</span></button>
                    <ul>
                    </ul>
                    <!-- [D] 10개 층 초과 시 층 이동 화살표 노출 -->
                    <button type="button" class="down"><span class="hide">DOWN</span></button>
                </div>
                <div class="floor-info__ctrl">
                    <span class="all">전체</span>
                    <!-- 축소 scale--down 클래스 추가 및 문구 축소 적용 -->
                    <span class="scale scale--down"><span class="hide">축소</span></span>
                </div>
            </div>
        </div>
        <!-- [!] 이벤트 메뉴 영역 미리 적용 추후 작업 예정 -->
        <!-- floor-info--active 될때 같이 event-state--active -->
        <aside class="event-state event-state--active">
            <button type="button" class=event-state__ctrl><span class="hide">ctrl button</span></button>
            <div class="event-state__title">
                이벤트 통계
                <a href="javascript:void(0);" class="event-state__button" id="eventStateBtn">
                    <span class="hide">이벤트 통계 전체보기</span>
                </a>
            </div>
            <div class="event-state__group">
                <div class="event-state__subtitle">실시간 이벤트(최근 24시간)</div>
                <table class="table">
                    <caption class="hide">출입구</caption>
                    <colgroup>
                        <col style="width:60px">
                        <col style="width:25px">
                        <col style="width:95px">
                        <col style="width:95px">
                        <col style="width:70px">
                    </colgroup>
                    <thead>
                    <tr>
                        <th scope="col">건물</th>
                        <th scope="col">층</th>
                        <th scope="col">이벤트명</th>
                        <th scope="col">장비명</th>
                        <th scope="col">발생시각</th>
                    </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </aside>

        <template th:replace="viewer/popup :: popup-template"></template>
        <template th:replace="map/mapPopup :: popup-template"></template>
        <template th:replace="map/sopPopup :: popup-template"></template>
        <template th:replace="map/systemPopup :: popup-template"></template>
        <template th:replace="map/eventPopup :: popup-template"></template>
        <!-- toolBox -->
        <div class="tool-box">
            <ul class="tool-box__list">
                <!-- [D] 선택 시 active 클래스 추가 -->
                <li class="home active">
                    <a href="javascript:void(0);"><span class="hide">도면 홈</span></a>
                    <div class="tool-tip">
                        <span class="tool-tip__text tool-tip__text--top">도면 홈</span>
                    </div>
                </li>
                <li class="pov">
                    <a href="javascript:void(0);"><span class="hide">1인칭</span></a>
                    <div class="tool-tip">
                        <span class="tool-tip__text tool-tip__text--top">1인칭</span>
                    </div>
                </li>
                <li class="twd">
                    <a href="javascript:void(0);"><span class="hide">2d</span></a>
                    <div class="tool-tip">
                        <span class="tool-tip__text tool-tip__text--top">2D</span>
                    </div>
                </li>
                <li class="minus">
                    <a href="javascript:void(0);"><span class="hide">minus</span></a>
                    <div class="tool-tip">
                        <span class="tool-tip__text tool-tip__text--top">축소</span>
                    </div>
                </li>
                <li class="plus">
                    <a href="javascript:void(0);"><span class="hide">plus</span></a>
                    <div class="tool-tip">
                        <span class="tool-tip__text tool-tip__text--top">확대</span>
                    </div>
                </li>
            </ul>
        </div>
        <!-- notice -->
        <div id="noticePopup" class="popup-event" style="display: none">
            <div class="popup-event__head">
                <h2 class="name">공지사항</h2>
                <button type="button" class="close"><span class="hide">close</span></button>
            </div>
            <!-- 공지사항 영역 -->
            <div class="notice-info">
                <h3 class="notice-info__title">
                    <span class="label">긴급</span>
                    <p>제목<span class="badge">N</span></p>
                </h3>
                <span class="notice-info__date">2024년 10월 10일 15:22</span>
                <div class="notice-info__contents">
                    <p>
                        본문
                    </p>
                </div>
            </div>
            <div class="popup-event__paging">
                <button type="button" class="left"><span class="hide">left</span></button>
                <div class="number"><span class="active">1</span>/<span>22</span></div>
                <button type="button" class="right"><span class="hide">right</span></button>
            </div>
        </div>
        <!-- notice == 0 -->
        <div id="noticeAlert" class="alert" style="display: none">
            <p>등록된 공지가 없습니다.</p>
            <button type="button" class="button button--solid-middle" disabled>확인</button>
        </div>
        <!-- toast toast--active 클래스 추가 -->
        <!-- event -> toast active -->
        <div class="toast">
        </div>
    </div>
</div>
<template id="cctv-popup-template">
    <div class="popup-info main-cctv-container">
        <div class="ptz-viewer popup-basic">
            <div class="popup-basic__head">
                <h2 data-camera-name></h2>
                <button type="button" class="cctv-close close"><span class="hide">close</span></button>
            </div>

            <!-- 비디오 컨테이너 -->
            <div class="ptz-viewer__video">
                <div class="video">
                    <div class="video__container">
                        <canvas width="800" height="450"></canvas>
                    </div>
                </div>
            </div>

            <!-- 하단 컨트롤 바 -->
            <div class="ptz-viewer__playback">
                <div class="playback">
                    <div class="playback__mode">
                        <button type="button" class="button button--solid-middle">LIVE</button>
                        <button type="button" class="button button--ghost-lower">PLAY BACK</button>
                    </div>
                    <div class="playback__action">
                        <button type="button" class="playback__button playback__button--play" disabled><span
                                class="hide">play</span></button>
                        <button type="button" class="playback__button playback__button--pause" disabled><span
                                class="hide">pause</span></button>
                        <button type="button" class="playback__button playback__button--stop" disabled><span
                                class="hide">stop</span></button>
                    </div>
                    <button type="button" class="playback__toggle" id="toggleControl"><span
                            class="hide">PTZ 패널 컨트롤 버튼</span></button>
                </div>
            </div>

            <!-- PTZ 제어 패널 -->
            <div class="ptz-viewer__panel" id="slidePanel">
                <div class="inner">
                    <!-- 시간 설정 (PLAYBACK 모드에서만 표시) -->
                    <div class="controls__group" id="timeControls" style="display: none;">
                        <div class="start-time-row">
                            <span class="controls__label">시작 시간</span>
                            <div class="date-picker">
                                <input type="date" id="startDate">
                            </div>
                            <div class="time-picker">
                                <input type="time" id="startTime">
                            </div>
                        </div>
                        <div class="playback-duration-row">
                            <span class="controls__label">재생 시간</span>
                            <div class="duration-picker">
                                <div class="duration-input">
                                    <input type="number" id="endHours" min="0" max="23" value="0" placeholder="0">
                                    <span class="duration-label">시간</span>
                                </div>
                                <div class="duration-input">
                                    <input type="number" id="endMinutes" min="0" max="59" value="30" placeholder="30">
                                    <span class="duration-label">분</span>
                                </div>
                                <div class="duration-input">
                                    <input type="number" id="endSeconds" min="0" max="59" value="0" placeholder="0">
                                    <span class="duration-label">초</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 조이스틱 -->
                    <div class="joystick">
                        <div class="joystick__bg" id="joystick-area">
<!--                           <div class="joystick__stick" id="joystickStick"></div>-->
                            <div class="joystick__directions">
                                <span class="joystick__direction joystick__direction--up"></span>
                                <span class="joystick__direction joystick__direction--up-right"></span>
                                <span class="joystick__direction joystick__direction--right"></span>
                                <span class="joystick__direction joystick__direction--down-right"></span>
                                <span class="joystick__direction joystick__direction--down"></span>
                                <span class="joystick__direction joystick__direction--down-left"></span>
                                <span class="joystick__direction joystick__direction--left"></span>
                                <span class="joystick__direction joystick__direction--up-left"></span>
                            </div>
                        </div>
                    </div>

                    <!-- 슬라이더 컨트롤 -->
                    <div class="controls">
                        <div class="controls__group">
                            <span class="controls__label">확대/축소</span>
                            <button class="controls__btn controls__btn--zoom-out" data-target="zoomOut"><span
                                    class="hide">확대/축소 감소</span></button>
                            <button class="controls__btn controls__btn--zoom-in" data-target="zoomIn"><span
                                    class="hide">확대/축소 증가</span></button>
                        </div>

                        <div class="controls__group">
                            <span class="controls__label">포커스</span>
                            <button class="controls__btn controls__btn--focus-out" data-target="focusOut"><span
                                    class="hide">포커스 감소</span></button>
                            <button class="controls__btn controls__btn--focus-in" data-target="focusIn"><span
                                    class="hide">포커스 증가</span></button>
                        </div>

                        <div class="controls__group">
                            <span class="controls__label">조리개</span>
                            <button class="controls__btn controls__btn--iris-out" data-target="irisOut"><span class="hide">조리개 감소</span>
                            </button>
                            <button class="controls__btn controls__btn--iris-in" data-target="irisIn"><span class="hide">조리개 증가</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 카메라 리셋 버튼 -->
                <div class="controls__reset">
                    <button type="button" class="button button--solid-middle" id="resetCamera">카메라 리셋</button>
                </div>
            </div>
        </div>
    </div>
</template>
<th:block th:replace="~{map/script :: script} "></th:block>
</body>
</html>